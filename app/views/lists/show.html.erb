<% content_for :title, @list.name %>

<div class="container my-5">
  <div class="list-header text-center mb-4">
    <h1 class="display-5 fw-bold animated-title"><%= @list.name %></h1>
  </div>


  <div class="d-flex flex-wrap gap-3 justify-content-center mb-4">
    <%= link_to "📝 Modifier la liste", edit_list_path(@list), class: "btn custom-btn-outline" %>
    <%= link_to "Supprimer la liste", list_path(@list),
      data: {
        turbo_method: :delete,
        turbo_confirm: "Êtes-vous sûr de vouloir supprimer cette liste ?"
      },
      class: "btn custom-btn-danger" %>
    <%= link_to "➕ Ajouter un film", movies_path, class: "btn custom-btn-gradient" %>
  </div>

  <h2 class="mb-3 text-center">🎬 Films dans la liste</h2>
  <ul class="list-group shadow-sm rounded-3 overflow-hidden">
    <% @list.bookmarks.each do |bookmark| %>
      <li class="list-group-item d-flex justify-content-between align-items-center py-3 px-4">
        <%= link_to bookmark.movie.title, list_bookmark_path(@list, bookmark), class: "text-decoration-none fw-medium text-blue" %>
        <div class="d-flex gap-2">
          <%= link_to "Supprimer", list_bookmark_path(@list, bookmark),
              data: { turbo_method: :delete, turbo_confirm: "Supprimer ce film ?" },
              class: "btn btn-sm custom-btn-danger" %>
        </div>
      </li>
    <% end %>
  </ul>

  <div class="mt-4 text-center">
    <%= link_to "← Retour aux listes", lists_path, class: "btn custom-btn-outline" %>
  </div>
</div>
